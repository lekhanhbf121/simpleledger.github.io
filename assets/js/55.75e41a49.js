(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{280:function(e,t,s){"use strict";s.r(t);var a=s(2),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"slp-post-office-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#slp-post-office-server"}},[e._v("#")]),e._v(" SLP Post Office Server")]),e._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("View Repo:")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/simpleledger/slp-post-office-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/simpleledger/slp-post-office-server"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("An implementation of the "),s("a",{attrs:{href:"./specs/slp-postage-protocol"}},[e._v("Simple Ledger Postage Protocol")])]),e._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#introduction"}},[e._v("Introduction")])]),s("li",[s("a",{attrs:{href:"#setup"}},[e._v("Setup")]),s("ul",[s("li",[s("a",{attrs:{href:"#configuration"}},[e._v("Configuration")])]),s("li",[s("a",{attrs:{href:"#daemonizing-the-server"}},[e._v("Daemonizing the Server")])])])])])]),s("p"),e._v(" "),s("h2",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),s("p",[e._v("It is a server that accepts modified "),s("a",{attrs:{href:"https://github.com/simpleledger/slp-specifications/blob/master/slp-payment-protocol.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Simple Ledger Payment Protocol"),s("OutboundLink")],1),e._v(" transactions, adds "),s("em",[e._v("stamps")]),e._v(" (inputs) to it to cover the\nfee costs, broadcasts the transaction and optionally takes SLP payments for the "),s("em",[e._v("postage")]),e._v(".")]),e._v(" "),s("p",[e._v('It enables all sorts of applications where the user can have only SLP tokens in their wallet and send transactions without the need for BCH as "gas", with the Post Office covering the costs of the transaction.')]),e._v(" "),s("h2",{attrs:{id:"setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[e._v("#")]),e._v(" Setup")]),e._v(" "),s("p",[e._v("Install the required packages and start the server. "),s("a",{attrs:{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer"}},[e._v("nvm"),s("OutboundLink")],1),e._v(" is not strictly necessary although it makes it easier to use a compatible version of node.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash\nnvm install v14.13.1\nnvm use v14.13.1\nnpm install -g yarn\ngit clone https://github.com/simpleledger/slp-post-office-server.git\ncd slp-post-office-server\ncp example.env .env\n$(EDITOR) .env\n$(EDITOR) src/Config.ts\nyarn\nyarn start\n")])])]),s("p",[e._v("After this, it will start up and request for you to send some BCH to an address so that the server may generate stamps.")]),e._v(" "),s("h3",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),s("p",[e._v("Open "),s("code",[e._v("./src/Config.ts")]),e._v(" to list the stamps, priceFeeders, and other options you may want to override or change.")]),e._v(" "),s("p",[s("code",[e._v("Config.postageRate.stamps")]),e._v(" describes the different tokens you will accept in your post office.")]),e._v(" "),s("p",[s("code",[e._v("Config.priceFeeders")]),e._v(" describes custom price updating mechanisms. These are allowed to overlap in case of downtime of an exchange api.")]),e._v(" "),s("p",[e._v("You will also want to take a look at the example token price feeders in "),s("code",[e._v("./src/TokenPriceFeeder/ApiWrapper/")]),e._v(" - we have examples for 3 different common price manipulations you may have to do for your token, as well as 3 different exchanges. If you have an example for another exchange please open a PR.")]),e._v(" "),s("h3",{attrs:{id:"daemonizing-the-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#daemonizing-the-server"}},[e._v("#")]),e._v(" Daemonizing the Server")]),e._v(" "),s("h4",{attrs:{id:"pm2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2"}},[e._v("#")]),e._v(" PM2")]),e._v(" "),s("p",[e._v("You may want to use "),s("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("PM2"),s("OutboundLink")],1),e._v(" to daemonize the server.")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("pm2 start yarn --interpreter bash --name postoffice -- start\n")])])]),s("h4",{attrs:{id:"systemd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#systemd"}},[e._v("#")]),e._v(" systemd")]),e._v(" "),s("p",[e._v("You can find an example systemd service file in "),s("code",[e._v("slp-post-office-server.service")])]),e._v(" "),s("p",[e._v("Edit this then copy it to /etc/systemd/system")]),e._v(" "),s("p",[e._v("Then run "),s("code",[e._v("systemctl daemon-reload")]),e._v(" and "),s("code",[e._v("systemctl start slp-post-office-server")])])])}),[],!1,null,null,null);t.default=r.exports}}]);